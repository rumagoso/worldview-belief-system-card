{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Worldview Belief System Card Schema",
  "type": "object",
  "properties": {
    "wbsc_version": {
      "type": "string",
      "const": "1.1.0",
      "description": "WBSC standard version"
    },
    "metadata": {
      "type": "object",
      "required": [
        "system_name",
        "version",
        "last_updated",
        "contact"
      ],
      "properties": {
        "system_name": {
          "type": "string",
          "description": "Name of the AI system"
        },
        "version": {
          "type": "string",
          "description": "Version of the AI system"
        },
        "last_updated": {
          "type": "string",
          "format": "date",
          "description": "Date of last WBSC update"
        },
        "contact": {
          "type": "string",
          "format": "email",
          "description": "Contact for WBSC inquiries"
        },
        "organization": {
          "type": "string",
          "description": "Developing organization"
        }
      }
    },
    "core_values": {
      "type": "object",
      "required": [
        "primary_ethical_framework",
        "key_principles"
      ],
      "properties": {
        "primary_ethical_framework": {
          "type": "string",
          "enum": [
            "consequentialist",
            "deontological",
            "virtue_ethics",
            "care_ethics",
            "pragmatic_ethics",
            "hybrid"
          ],
          "description": "Primary ethical framework guiding the system"
        },
        "key_principles": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "string"
          },
          "description": "Core ethical principles"
        },
        "value_hierarchies": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "higher_priority": {
                "type": "string"
              },
              "lower_priority": {
                "type": "string"
              },
              "rationale": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "stakeholder_input": {
      "type": "object",
      "required": [
        "consultation_approach",
        "stakeholder_groups",
        "engagement_methods",
        "input_integration"
      ],
      "description": "Documentation of stakeholder engagement in AI system development",
      "properties": {
        "consultation_approach": {
          "type": "string",
          "enum": [
            "meaningful_engagement",
            "comprehensive_consultation",
            "continuous_dialogue",
            "advisory_integration"
          ],
          "description": "Overall approach to stakeholder consultation"
        },
        "stakeholder_groups": {
          "type": "array",
          "minItems": 2,
          "uniqueItems": true,
          "items": {
            "type": "string",
            "enum": [
              "civil_society_organizations",
              "affected_communities",
              "domain_experts",
              "regulatory_bodies",
              "user_representatives",
              "academic_institutions",
              "industry_peers",
              "advocacy_groups",
              "indigenous_communities",
              "labor_unions",
              "consumer_groups",
              "environmental_organizations",
              "human_rights_organizations"
            ]
          },
          "description": "Groups consulted during development"
        },
        "engagement_timeline": {
          "type": "object",
          "required": [
            "consultation_start",
            "duration_weeks"
          ],
          "properties": {
            "consultation_start": {
              "type": "string",
              "format": "date"
            },
            "consultation_end": {
              "type": "string",
              "format": "date"
            },
            "duration_weeks": {
              "type": "integer",
              "minimum": 4,
              "description": "Minimum 4 weeks for meaningful consultation"
            },
            "ongoing_engagement": {
              "type": "boolean",
              "description": "Whether consultation continues post-deployment"
            }
          }
        },
        "engagement_methods": {
          "type": "array",
          "minItems": 2,
          "uniqueItems": true,
          "items": {
            "type": "string",
            "enum": [
              "public_consultations",
              "expert_advisory_panels",
              "community_workshops",
              "stakeholder_surveys",
              "focus_groups",
              "feedback_periods",
              "collaborative_design_sessions",
              "interviews",
              "online_platforms",
              "town_halls"
            ]
          },
          "description": "Methods used to engage stakeholders"
        },
        "accessibility_measures": {
          "type": "object",
          "properties": {
            "languages_supported": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "accessibility_accommodations": {
              "type": "boolean"
            },
            "remote_participation": {
              "type": "boolean"
            },
            "materials_provided_advance": {
              "type": "boolean"
            },
            "interpretation_services": {
              "type": "boolean"
            }
          }
        },
        "input_integration": {
          "type": "object",
          "required": [
            "changes_made",
            "feedback_addressed"
          ],
          "properties": {
            "changes_made": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Major changes implemented based on stakeholder input"
            },
            "feedback_addressed": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "concern": {
                    "type": "string"
                  },
                  "response": {
                    "type": "string"
                  },
                  "action_taken": {
                    "type": "string"
                  }
                }
              }
            },
            "rejected_suggestions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "suggestion": {
                    "type": "string"
                  },
                  "rationale": {
                    "type": "string"
                  }
                }
              }
            },
            "ongoing_mechanisms": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Continuous stakeholder engagement processes"
            }
          }
        },
        "transparency_measures": {
          "type": "object",
          "properties": {
            "consultation_summary_published": {
              "type": "boolean"
            },
            "feedback_reports_public": {
              "type": "boolean"
            },
            "decision_rationale_documented": {
              "type": "boolean"
            },
            "stakeholder_roster_disclosed": {
              "type": "boolean"
            },
            "public_comment_period": {
              "type": "boolean"
            }
          }
        }
      }
    },
    "cultural_context": {
      "type": "object",
      "properties": {
        "primary_cultural_context": {
          "type": "string",
          "description": "Primary cultural context influencing the system"
        },
        "geographic_focus": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Geographic regions the system is designed for"
        },
        "language_assumptions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Language assumptions built into the system"
        },
        "social_context_factors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Social factors influencing system design"
        }
      }
    },
    "decision_making": {
      "type": "object",
      "properties": {
        "ethical_dilemma_approach": {
          "type": "string",
          "description": "How the system approaches ethical dilemmas"
        },
        "value_tradeoff_mechanism": {
          "type": "string",
          "description": "How the system handles conflicting values"
        },
        "uncertainty_handling": {
          "type": "string",
          "description": "Approach to uncertain situations"
        },
        "conflict_resolution": {
          "type": "string",
          "description": "Method for resolving value conflicts"
        }
      }
    },
    "bias_limitations": {
      "type": "object",
      "required": [
        "known_biases",
        "limitations"
      ],
      "properties": {
        "known_biases": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "bias_type": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "mitigation_efforts": {
                "type": "string"
              }
            }
          }
        },
        "limitations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Acknowledged limitations of the system"
        },
        "uncertainty_areas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Areas where the system's behavior is uncertain"
        },
        "failure_modes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "failure_type": {
                "type": "string"
              },
              "likelihood": {
                "type": "string"
              },
              "mitigation": {
                "type": "string"
              }
            }
          }
        }
      }
    }
  },
  "required": [
    "wbsc_version",
    "metadata",
    "core_values",
    "stakeholder_input",
    "bias_limitations"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "stakeholder_input": {
            "properties": {
              "stakeholder_groups": {
                "contains": {
                  "const": "civil_society_organizations"
                }
              }
            }
          }
        }
      },
      "then": {
        "properties": {
          "stakeholder_input": {
            "properties": {
              "engagement_methods": {
                "anyOf": [
                  {
                    "contains": {
                      "const": "public_consultations"
                    }
                  },
                  {
                    "contains": {
                      "const": "community_workshops"
                    }
                  }
                ]
              }
            }
          }
        }
      }
    },
    {
      "if": {
        "properties": {
          "stakeholder_input": {
            "properties": {
              "consultation_approach": {
                "const": "meaningful_engagement"
              }
            }
          }
        }
      },
      "then": {
        "properties": {
          "stakeholder_input": {
            "properties": {
              "engagement_timeline": {
                "properties": {
                  "duration_weeks": {
                    "minimum": 6
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "if": {
        "properties": {
          "stakeholder_input": {
            "properties": {
              "stakeholder_groups": {
                "minItems": 5
              }
            }
          }
        }
      },
      "then": {
        "properties": {
          "stakeholder_input": {
            "properties": {
              "engagement_methods": {
                "minItems": 3
              }
            }
          }
        }
      }
    }
  ]
}
